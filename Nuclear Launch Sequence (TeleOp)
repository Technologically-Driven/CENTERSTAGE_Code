// Coded by #22581: Technologically Driven
package org.firstinspires.ftc.teamcode;

import com.qualcomm.robotcore.eventloop.opmode.LinearOpMode;
import com.qualcomm.robotcore.hardware.Gamepad;
import com.qualcomm.robotcore.eventloop.opmode.TeleOp;
import com.qualcomm.robotcore.hardware.DcMotor;
import com.qualcomm.robotcore.hardware.Servo;

@TeleOp(name = "DOOM")
public class Joystick extends LinearOpMode {

  private DcMotor ArmLift;
  private DcMotor LeftFront;
  private DcMotor RightFront;
  private DcMotor LeftBack;
  private DcMotor RightBack;
  private Servo Claw;
  private Servo Joint;
  private Servo Launcher;

  /**
   * This function is executed when this Op Mode is selected from the Driver Station.
   */
  @Override
  public void runOpMode() {
    double Speed;
    int horiMovement;
    double armSpeed;

    ArmLift = hardwareMap.get(DcMotor.class, "Arm Lift");
    LeftFront = hardwareMap.get(DcMotor.class, "LeftFront");
    RightFront = hardwareMap.get(DcMotor.class, "RightFront");
    LeftBack = hardwareMap.get(DcMotor.class, "LeftBack");
    RightBack = hardwareMap.get(DcMotor.class, "RightBack");
    Claw = hardwareMap.get(Servo.class, "Claw");
    Joint = hardwareMap.get(Servo.class, "Joint");
    Launcher = hardwareMap.get(Servo.class, "Launcher");
    Gamepad previousgamepad1 = new Gamepad();
    Gamepad previousgamepad2 = new Gamepad();
    
    Gamepad currentgamepad1 = new Gamepad();
    Gamepad currentgamepad2 = new Gamepad();
    // Put initialization blocks here.
    waitForStart();
    Speed = 5;
    horiMovement = 5;
    armSpeed = 0.5;
      // Put run blocks here.
      while (opModeIsActive()) {
        previousgamepad1.copy(currentgamepad1);
        previousgamepad2.copy(currentgamepad2);
        
        currentgamepad1.copy(gamepad1);
        currentgamepad2.copy(gamepad2);
        // Put loop blocks here.
        telemetry.addData("arm pos", ArmLift.getCurrentPosition());
        telemetry.addData("target pos", ArmLift.getTargetPosition());
        telemetry.addData("power", ArmLift.getPower());
        telemetry.update();
        // left joystick x/y movement
       RightFront.setPower((-gamepad1.left_stick_y + gamepad1.left_trigger - gamepad1.right_trigger - gamepad1.left_stick_x) * Speed);
        LeftFront.setPower((gamepad1.left_stick_y + gamepad1.left_trigger - gamepad1.right_trigger - gamepad1.left_stick_x) * Speed);
        RightBack.setPower((-gamepad1.left_stick_y - gamepad1.left_trigger + gamepad1.right_trigger - gamepad1.left_stick_x) * Speed);
        LeftBack.setPower((gamepad1.left_stick_y - gamepad1.left_trigger + gamepad1.right_trigger - gamepad1.left_stick_x) * Speed);
        if (gamepad1.square) {
          gamepad1.rumble(500);
        }
        else if (gamepad1.cross) {
          Speed = 0.6;
          gamepad1.rumble(500);
        }
        else if (gamepad1.circle) {
          Speed = 500;
          gamepad1.rumble(500);
        }
        else if (gamepad1.dpad_right) {
          RightBack.setPower(Speed);
          LeftBack.setPower(Speed);
          RightFront.setPower(-Speed);
          LeftFront.setPower(-Speed);
          sleep(10);
          RightBack.setPower(0);
          LeftBack.setPower(0);
          RightFront.setPower(0);
          LeftFront.setPower(0);
        }
        else if (gamepad1.dpad_left) {
          RightBack.setPower(-Speed);
          LeftBack.setPower(-Speed);
          RightFront.setPower(Speed);
          LeftFront.setPower(Speed);
          sleep(10);
          RightBack.setPower(0);
          LeftBack.setPower(0);
          RightFront.setPower(0);
          LeftFront.setPower(0);
        }
        else if (gamepad1.dpad_down) {
          RightBack.setPower(-Speed);
          LeftBack.setPower(Speed);
          RightFront.setPower(-Speed);
          LeftFront.setPower(Speed);
          sleep(10);
          RightBack.setPower(0);
          LeftBack.setPower(0);
          RightFront.setPower(0);
          LeftFront.setPower(0);
        }
        else if
          (gamepad1.dpad_up) {
          RightBack.setPower(Speed);
          LeftBack.setPower(-Speed);
          RightFront.setPower(Speed);
          LeftFront.setPower(-Speed);
        }
        else if 
          (gamepad1.right_bumper) {
          RightBack.setPower(-Speed);
          LeftBack.setPower(-Speed);
          RightFront.setPower(-Speed);
          LeftFront.setPower(-Speed);
          sleep(10);
          RightBack.setPower(0);
          LeftBack.setPower(0);
          RightFront.setPower(0);
          LeftFront.setPower(0);
        }
        if (gamepad1.left_bumper) {
          RightBack.setPower(Speed);
          LeftBack.setPower(Speed);
          RightFront.setPower(Speed);
          LeftFront.setPower(Speed);
          sleep(10);
          RightBack.setPower(0);
          LeftBack.setPower(0);
          RightFront.setPower(0);
          LeftFront.setPower(0);
        }
// Do not change the code for a/b and the bumpers unless tuning speed. :)
// gamepad2 a/b and bumpers probably isnt what it is supposed to be. Tune accordingly.
// Put this code back to a fixed position after the 3d printed wedge is installed.
        if (currentgamepad2.left_bumper) {
          Claw.setPosition(Claw.getPosition()-0.001);
        }
        else if (currentgamepad2.right_bumper) {
          Claw.setPosition(Claw.getPosition()+0.033); 
        }
        else if (currentgamepad2.b) }
          Joint.setPosition(Joint.getPosition()+0.01); 
        }
        else if (currentgamepad2.a) {
          Joint.setPosition(Joint.getPosition()-0.01); 
        }
        else if (gamepad2.y) {
          Joint.setDirection(Servo.Direction.REVERSE);
          Joint.setPosition(0.2);
        }
        else if (gamepad2.dpad_up) {
          ArmLift.setPower(.5);
          sleep(10);
          ArmLift.setPower(0.2);
        }
        else if (gamepad2.dpad_down) {
          ArmLift.setPower(0.15);
        }
        else if (gamepad2.right_trigger >= 0.2) {
          ArmLift.setPower(1);
          ArmLift.setPower(1);
          sleep(10);
          ArmLift.setPower(0.05);
          ArmLift.setPower(0.05);
        }
        else if (gamepad2.left_trigger >= 0.2) {
          ArmLift.setPower(-1);
          ArmLift.setPower(-1);
          sleep(10);
          ArmLift.setPower(0.05);
          ArmLift.setPower(0.05);
        }
  
        }
        }
      }
